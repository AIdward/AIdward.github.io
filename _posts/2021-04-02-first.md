---
layout: single
date: 2021-04-02
title: "첫 포스팅"
categories:
  - posts
tags:
  - Post Formats
  - readability
  - standard
sidebar:
  nav: "docs"
---

```python
# 경계 데이터 가져오기
GetCompasData('SBJ_2012_001', '31', '31.오산시_법정경계(시군구).geojson')
GetCompasData('SBJ_2012_001', '32', '32.오산시_행정경계(읍면동).geojson')
GetCompasData('SBJ_2012_001', '33', '33.오산시_법정경계(읍면동).geojson')
# 경계 데이터 입력하기
법정경계_시군구 = gpd.read_file("31.오산시_법정경계(시군구).geojson")
행정경계_읍면동 = gpd.read_file("32.오산시_행정경계(읍면동).geojson")
법정경계_읍면동 = gpd.read_file("33.오산시_법정경계(읍면동).geojson")
```


```python
# 법정경계 데이터를 pydeck에서 처리할 수 있게 변환하였습니다
법정경계_읍면동['좌표값'] = 법정경계_읍면동['geometry'].apply(멀티폴리곤_좌표리스트_변환)
del 법정경계_읍면동['geometry']
법정경계_읍면동 = pd.DataFrame(법정경계_읍면동)
```


```python
# 법정경계 pydeck 레이어를 나중에 가져다 쓸 수 있도록 미리 만들어 놓았습니다
읍면동맵 = pdk.Layer('PolygonLayer', 
                   법정경계_읍면동, 
                   get_polygon='좌표값', 
                   get_fill_color='[50,100,150,30]',
                   get_line_color='[250, 250, 250]',
                   pickable=True, 
                   lineWidthScale=30,
                   auto_highlight=True)

# pydeck을 실행할 때의 View 초기값을 미리 입력하여 나중에 가져다 쓸 수 있도록 하였습니다
center = (37.163,127.054)
zoom = 11.5
view_state = pdk.ViewState(
    longitude=center[1],
    latitude=center[0],
    zoom=zoom)

mmap = pdk.Deck(layers=[읍면동맵],
            mapbox_key = 'pk.eyJ1IjoiZWR3YXJkcm9uaWMiLCJhIjoiY2trOW9qa2UyMHpyMjJvbngxMXU2Y3gzbSJ9.3ulI8nY1yimd1b4wk6tfKw',
            initial_view_state=view_state)
mmap.to_html("읍면동맵.html", notebook_display=False)
```
